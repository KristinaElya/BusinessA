# Документация по подсистеме для нишевых продавцов

---

## Оглавление

- [1. Введение](#1-введение)
- [2. Описание бизнес-процессов](#2-описание-бизнес-процессов)
  - [2.1 Регистрация продавца](#21-регистрация-продавца)
  - [2.2 Создание и редактирование карточек товаров](#22-создание-и-редактирование-карточек-товаров)
  - [2.3 Управление запасами](#23-управление-запасами)
  - [2.4 Обработка заказов](#24-обработка-заказов)
  - [2.5 Взаимодействие с клиентами](#25-взаимодействие-с-клиентами)
- [3. Заинтересованные стороны](#3-заинтересованные-стороны)
- [4. Требования к функциональности](#4-требования-к-функциональности)
  - [4.1 Регистрация и аутентификация](#41-регистрация-и-аутентификация)
  - [4.2 Управление карточками товаров](#42-управление-карточками-товаров)
  - [4.3 Управление запасами](#43-управление-запасами)
  - [4.4 Обработка заказов](#44-обработка-заказов)
  - [4.5 Взаимодействие с клиентами](#45-взаимодействие-с-клиентами)
  - [4.6 Аналитика и отчётность](#46-аналитика-и-отчётность)
- [5. Структура базы данных (БД)](#5-структура-базы-данных)
- [5.1 Сущности базы данных](#51-сущности-базы-данных)
- [5.2 Связи между сущностями](#52-связи-между-сущностями)
- [6. Архитектура системы](#6-архитектура-системы)
- [7. Описание взаимодействия компонентов системы](#7-описание-взаимодействия-компонентов-системы)

---

## 1. Введение

Документация описывает требования к подсистеме продавцов на платформе маркетплейса, ориентированной на уникальные и хендмейд товары. Она включает в себя ключевые бизнес-процессы, заинтересованные стороны, функциональные требования, структуру базы данных, архитектуру системы и взаимодействие компонентов. Основная задача — обеспечить удобное управление товарами, заказами и взаимодействием с клиентами, а также автоматизировать процессы модерации и аналитики.

Ключевые цели:

- Обеспечить безопасность и качество контента.
- Упростить процесс добавления и редактирования товаров.
- Обеспечить прозрачность и контроль запасов.
- Обеспечить эффективное взаимодействие с покупателями.
- Предоставить аналитические инструменты для продавцов.

---

## 2. Описание бизнес-процессов

### 2.1. Регистрация продавца

1. Продавец заполняет форму регистрации на платформе.
2. Система проверяет корректность данных (валидация email, телефона, обязательных полей).
3. Система запрашивает исправления, если данные неполные/некорректные.
4. После успешной отправки заявка попадает на модерацию.
5. Администратор проверяет документы и информацию о бизнесе.
6. Продавец получает доступ в ЛК.

### 2.2. Создание и редактирование карточек товаров

1. Продавец создает новую карточку товара, заполняя обязательные поля.
2. Система проверяет корректность данных (наличие фото, описание, цену > 0).
3. Система уведомляет продавца, если есть ошибки.
4. После сохранения товар отправляется на модерацию.
5. Система проверяет соответствие правилам платформы.
6. Если всё в порядке – товар публикуется.
7. Если есть нарушения – карточка отклоняется с комментарием.

### 2.3. Управление запасами

1. Продавец указывает количество товара при его создании/редактировании.
2. Система фиксирует остатки и применяет лимиты (если заданы).
3. При оформлении заказа система автоматически списывает товар.
4. Если остаток = 0 – товар помечается как "Нет в наличии".
5. Продавец может вручную корректировать остатки (при поступлении или списании).

### 2.4. Обработка заказов

1. Система уведомляет продавца о новом заказе (в ЛК и/или email).
2. Продавец проверяет заказ и подтверждает его (или отклоняет).
3. После подтверждения продавец готовит товар к отправке.
4. Продавец отмечает статус "Готов к отправке".
5. После передачи в службу доставки статус меняется на "Отправлен".

### 2.5. Взаимодействие с клиентами

1. Покупатель оставляет вопрос/отзыв в карточке товара.
2. Продавец получает уведомление.
3. Продавец отвечает в течение установленного времени (напр., 24 ч).
4. Если отзыв нарушает правила – продавец может подать жалобу.
5. Модератор проверяет и скрывает отзыв (или оставляет).

---

## 3. Заинтересованные стороны

- **Продавцы**: Основные пользователи системы, реализующие уникальные и хендмейд товары.
- **Клиенты**: Покупатели, осуществляющие заказы на платформе.
- **Администрация платформы**: Команда, обеспечивающая работу платформы и поддержку продавцов.
- **Разработчики**: Инженеры, создающие и поддерживающие подсистему.
- **Маркетолог**: Ответственный за продвижение товаров и стратегию продаж на платформе.

---

## 4. Требования к функциональности

### 4.1. Регистрация и аутентификация

1. Форма для регистрации с подтверждением email.
2. Вход/выход из личного кабинета.
3. Восстановление пароля по email.

### 4.2. Управление карточками товаров

1. Создание новых карточек с обязательными полями: название, описание, фотографии.
2. Возможность добавлять характеристики в виде структурированных данных.
3. Редактирование существующих карточек.
4. Карточки должны проходить проверку модератором или автоматически по правилам платформы.

### 4.3. Управление запасами

1. Указание количества товара при создании/редактировании карточки.
2. Автоматическое уменьшение запаса при оформлении заказа.
3. Возможность устанавливать лимиты на продажу (например: ограниченная серия).
 
### 4.4. Обработка заказов

1. Просмотр списка заказов со статусами ("новый", "в обработке", "отправлен", "завершен", "отменен").
2. Возможность подтверждать или отменять заказы вручную.
3. Обновление статусов заказа через интерфейс или автоматические сценарии.

### 4.5. Взаимодействие с клиентами

1. Ответы на сообщения и отзывы прямо из интерфейса системы.
2. Модерация отзывов (скрытие неподходящих комментариев или жалоб).

### 4.6. Аналитика и отчётность

1. Генерация отчетов о продажах и эффективных товарах.
2. Анализ отзывов и оценок клиентов.

---

## 5. Структура базы данных

### 5.1. Сущности базы данных

#### Таблица "Продавец"
| Поле                   | Тип      | Описание                                |
|------------------------|----------|-----------------------------------------|
| `идентификатор`       | PK      | Уникальный идентификатор продавца       |
| `имя`                  |   | Имя продавца                            |
| `контактная_информация`|   | Контактная информация                   |

#### Таблица "Товар"
| Поле                     | Тип      | Описание                                 |
|--------------------------|----------|------------------------------------------|
| `идентификатор`         | PK      | Уникальный идентификатор товара          |
| `название`              |   | Название товара                          |
| `описание`              |      | Описание товара                          |
| `количество`            |       | Количество товара на складе             |
| `цена`                  |   | Цена товара                              |
| `идентификатор_продавца`| FK      | Идентификатор продавца (ссылка на продавца) |

#### Таблица "Карточка_товара"
| Поле                    | Тип      | Описание                                  |
|-------------------------|----------|-------------------------------------------|
| `идентификатор`        | PK      | Уникальный идентификатор карточки товара  |
| `идентификатор_товара` | FK      | Идентификатор товара (ссылка на товар)   |
| `описание_карточки`        |  | Описание карточки товара     |
| `изображение`        |  | Изображение товара на карточке (хранение по ссылке или путь к файлу)     |
| `дата_создания`        |  | Дата и время создания карточки товара     |

#### Таблица "Отзыв"
| Поле                    | Тип      | Описание                                  |
|-------------------------|----------|-------------------------------------------|
| `идентификатор`        | PK      | Уникальный идентификатор отзыва           |
| `идентификатор_товара` | FK      | Идентификатор товара (ссылка на товар)   |
| `клиент`               |   | Имя клиента (или идентификатор)          |
| `оценка`               |       | Оценка товара                             |
| `текст`                |      | Текст отзыва                              |
| `дата`                 |  | Дата и время написания отзыва            |

#### Таблица "Сообщение"
| Поле                    | Тип      | Описание                                  |
|-------------------------|----------|-------------------------------------------|
| `идентификатор`        | PK      | Уникальный идентификатор отзыва           |
| `идентификатор_товара` | FK      | Идентификатор товара (ссылка на товар)   |
| `клиент`               |   | Имя клиента (или идентификатор)          |
| `текст`               |     | Сообщение от клиента                      |
| `дата`                 |  | Дата и время сообщенния            |

#### Таблица "Заказ"
| Поле                    | Тип      | Описание                                  |
|-------------------------|----------|-------------------------------------------|
| `идентификатор`        | PK      | Уникальный идентификатор отзыва           |
| `идентификатор_товара` | FK      | Идентификатор товара (ссылка на товар)   |
| `клиент`               |   | Имя клиента (или идентификатор)          |
| `дата_заказа`         |       | Дата и время заказа                        |
| `статус`                |      | Статус           |

### 5.2. Связи между сущностями

В системе реализованы следующие основные связи между сущностями:

- Каждый продавец может создавать и управлять несколькими карточками товаров.
- Каждая карточка товара связана с конкретным продавцом.
- Каждый заказ оформляется одним клиентом.
- Заказ может включать несколько товаров.
- Отзывы и сообщения могут быть связаны либо с конкретным заказом, либо с товаром.
  - Отзыв связан с конкретным товаром (через карточку).
  - Сообщение клиента связано с товаром.

---

## 6. Архитектура системы

Компоненты системы включают в себя:

- **Сервис регистрации и аутентификации**: обрабатывает запросы на регистрацию и вход в систему, управляет сессиями пользователей и токенами доступа. Обеспечивает безопасность с помощью шифрования паролей и двухфакторной аутентификации.
- **Сервис управления товарами**: отвечает за создание и редактирование карточек товаров. Управляет категориями товаров и их атрибутами (например, цена, описание, наличие на складе). Обеспечивает интеграцию с системами управления запасами.
- **Сервис управления заказами**: обрабатывает все операции, связанные с заказами, включая создание, изменение и отмену заказов. Управляет статусами заказов и уведомлениями для пользователей. Обеспечивает интеграцию с платежными системами и логистическими службами.
- **Сервис взаимодействия с клиентами**: управляет сообщениями и отзывами от клиентов. Обеспечивает поддержку через чат, электронную почту и другие каналы связи. Анализирует отзывы для улучшения качества обслуживания и продуктов.

---

## 7. Описание взаимодействия компонентов системы

Каждый компонент взаимодействует через RESTful API.

Пользовательский интерфейс → API слой.
- Продавцы создают/редактируют товары, просматривают заказы и отзывы через веб-интерфейс; все действия идут через API-запросы.

API слой → бизнес логика.
- Обработка запросов — создание новых карточек товаров, изменение запасов, просмотр заказов.

Бизнес логика → база данных.
- Запросы на чтение/запись данных в таблицы `Sellers`, `Products`, `Orders`, `CustomerInteractions`.

Пример взаимодействия:

1. Продавец инициирует запрос на добавление нового товара через сервис управления товарами.
2. Сервис управления товарами обновляет базу данных и отправляет уведомление о создании нового товара.
3. Сервис управления заказами получает уведомление о новом товаре и обновляет соответствующую информацию для клиентов.
4. Клиенты могут оставлять отзывы через сервис взаимодействия с клиентами, который обновляет данные в базе для отображения на странице товара.

---
